<!DOCTYPE html>
<html>
<head>
    <title>Test Agent Commands</title>
    <script type="module">
        // This will only work when running inside Tauri
        import { invoke } from '@tauri-apps/api/core';

        async function testListAgents() {
            console.log('Testing list_available_agents...');
            try {
                const result = await invoke('list_available_agents');
                console.log('‚úÖ list_available_agents SUCCESS:', result);
                document.getElementById('list-result').innerText = JSON.stringify(result, null, 2);
            } catch (error) {
                console.error('‚ùå list_available_agents FAILED:', error);
                document.getElementById('list-result').innerText = 'ERROR: ' + error;
            }
        }

        async function testExecuteAgent() {
            console.log('Testing execute_python_agent...');
            try {
                const result = await invoke('execute_python_agent', {
                    agentType: 'warren_buffett',
                    parameters: {
                        tickers: ['AAPL'],
                        end_date: '2024-12-31'
                    },
                    inputs: {}
                });
                console.log('‚úÖ execute_python_agent SUCCESS:', result);
                document.getElementById('execute-result').innerText = JSON.stringify(result, null, 2);
            } catch (error) {
                console.error('‚ùå execute_python_agent FAILED:', error);
                document.getElementById('execute-result').innerText = 'ERROR: ' + error;
            }
        }

        async function testGetMetadata() {
            console.log('Testing get_agent_metadata...');
            try {
                const result = await invoke('get_agent_metadata', {
                    agentType: 'warren_buffett'
                });
                console.log('‚úÖ get_agent_metadata SUCCESS:', result);
                document.getElementById('metadata-result').innerText = JSON.stringify(result, null, 2);
            } catch (error) {
                console.error('‚ùå get_agent_metadata FAILED:', error);
                document.getElementById('metadata-result').innerText = 'ERROR: ' + error;
            }
        }

        // Expose functions to window
        window.testListAgents = testListAgents;
        window.testExecuteAgent = testExecuteAgent;
        window.testGetMetadata = testGetMetadata;
    </script>
    <style>
        body {
            font-family: 'Consolas', monospace;
            background: #0a0a0a;
            color: #d4d4d4;
            padding: 20px;
        }
        button {
            background: #ea580c;
            color: white;
            border: none;
            padding: 10px 20px;
            margin: 10px 5px;
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
        }
        button:hover {
            background: #dc2626;
        }
        pre {
            background: #1a1a1a;
            border: 1px solid #2d2d2d;
            padding: 15px;
            border-radius: 5px;
            overflow: auto;
            max-height: 400px;
        }
        h2 {
            color: #ea580c;
        }
    </style>
</head>
<body>
    <h1>üß™ Agent Commands Test</h1>

    <div>
        <button onclick="testListAgents()">1. Test List Agents</button>
        <button onclick="testGetMetadata()">2. Test Get Metadata</button>
        <button onclick="testExecuteAgent()">3. Test Execute Agent</button>
    </div>

    <h2>List Agents Result:</h2>
    <pre id="list-result">Click "Test List Agents" button</pre>

    <h2>Get Metadata Result:</h2>
    <pre id="metadata-result">Click "Test Get Metadata" button</pre>

    <h2>Execute Agent Result:</h2>
    <pre id="execute-result">Click "Test Execute Agent" button</pre>
</body>
</html>
